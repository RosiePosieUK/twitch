<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Twitch</title>

	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link href="https://fonts.googleapis.com/css?family=Russo+One|Open+Sans:400,700" rel="stylesheet">

	<style>

	/*link to nice colour palette http://www.colourlovers.com/palette/4329504/Morning_Sail*/

	.clearfix:after {
   content: " "; /* Older browser do not support empty content */
   visibility: hidden;
   display: block;
   height: 0;
   clear: both;
}
		body{
			/*background-color: #6441a5;*/
			background-color: #6441a5;
			font-family: 'open sans', sans-serif;
		}

		.wrapper{
			width: 50%;
			margin: 0  auto;
			margin-top: 30px;
			padding: 20px;
			background-color: #fff;
			border-radius: 5px;
		}

		/*h1{
			font-family: 'Russo One', sans-serif;
			text-shadow: 3px 3px 0 #ccc;
			margin-bottom: 20px;
			color: #6441a5;
		}*/

		.mainLogo{
			max-width: 100%;
		}
		
		h1{	
			font-size: 26px;
			font-family: 'Russo One', sans-serif;
			/*text-shadow: 3px 3px 0 #ccc;*/
			margin-bottom: 20px;
			color: #6441a5;
			text-align: center;
		}

		.userBox{
			border-bottom: 2px solid #6441a5;
		}

		.userBox a{
			color: #6441a5;
		}

		.userBox a:hover{
			color: #555;
			text-decoration: none;
			cursor: pointer;
		}

		.nav-tabs>li.active>a, .nav-tabs>li.active>a:focus, .nav-tabs>li.active>a:hover{
			color: #555;
	    background-color: #fff;
	    border: 2px solid #6441a5;
	    border-bottom-color: transparent;
		}

		.nav-tabs {
    		border-bottom: 2px solid #6441a5;
    	}	

	    .nav-tabs li {
		    margin-bottom: -2px;
		    width: 33%;
		    text-align: center;
		}
		
		 .nav li a {
		 	font-family: 'Russo One', sans-serif;
		 	letter-spacing: 1px;
		 	font-size: 16px;
		 } 

		 .nav-tabs li.active a {
		 	color: #6441a5;
		 }  

		 .nav-tabs li a:hover {
    	color: #6441a5;
		}

		.nav-tabs a{
    	color: #999;
    }	

  
    .logo{
    	display: inline-block;
    	width: 55px;
    	height: 55px;
    	border-radius: 50%;
    	margin-right: 15px;
    	float: left;
    }

    .logoOffline{
    	border: 1px solid #6441a5;
    }

	   h4{
	   	display: inline-block;
	   	font-weight: 700;
			   
		}

		.userTitleOnline{
			margin: 5px 0 10px 0;
		}	

		.userTitleOffline{
			margin: 10px 0 10px 0;
		}

	   .userTitle{
	   	padding: 15px 10px 15px 10px;
	   }

	   .hide{
	   	display: none;
	   }

	   .status{
	   	display: inline-block;
	   	margin-top: 10px;
	   }

	   .online{
	   	color: green;
	   	font-weight: bold;
	   }

	   .offline{
	   	color: #ffbb3f;
	    font-weight: bold;
	   }


	   .noUserName{
	   	color: grey;
	   }

	   .noUser{
	   	color: grey;
	   }

		.onlineBox{
	   	/*background-color: #f1f9eb;*/
	   }

	   .offlineBox{
	   	background-color: #fff;
	   }

	   .noUserBox{
		background-color: #f2f2f2;
	   }

   	@media only screen and (max-width: 768px){
		.wrapper{width: 60%;}

		h4{font-size: 16px;}

	@media only screen and (max-width: 480px){
		.wrapper{width: 80%;}

		h4{font-size: 14px;}	

	</style>



</head>
<body>

<div class="wrapper">
	<img class="mainLogo" src="http://i1376.photobucket.com/albums/ah12/RosiePosieUK/new-twitchtv-logo_zpsiguenjjl.png" alt="Twitch Logo">
	<h1 class="">See who's online</h1>
	<ul class="nav nav-tabs">
		<li class="active"><a data-toggle="tab" id="allBtn" href="#all">All Users</a></li>
		<li> <a data-toggle="tab" id="onlineBtn" href="#online">Online</a></li>
		<li> <a data-toggle="tab" id="offlineBtn" href="#offline">Offline</a></li>
	</ul>

<div id="results"></div>


 	<!-- <div class="userBox">
		<div class="userTitle clearfix">
			<img class="logo" id="logo" src="https://i1376.photobucket.com/albums/ah12/RosiePosieUK/me_zpsj5bhel4s.jpg">
			<h4 class="userTitleOffline"><a id="userTitle" href="#"> Free Code Camp</a></h4> 
			<p class="status pull-right online" id="status">Online</p>
		</div>
	</div>
	<div class="userBox">
		<div class="userTitle">
			<img class="logo" id="logo" src="https://i1376.photobucket.com/albums/ah12/RosiePosieUK/me_zpsj5bhel4s.jpg">
			<h4 class="userTitleOnline"><a id="userTitle" href="#"> Free Code Camp</a></h4> 
			<p class="status pull-right online" id="status">Online</p>
			<p><a href="#" id="userStreaming">Currently streaming: </a></p>
		</div>
	</div>-->


	

</div><!-- end wrapper -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script>
	

$("document").ready(function(){

var userArr = ["ESL_SC2", "OgamingSC2", "cretetion", "freecodecamp", "storbeck", "habathcx", "RobotCaleb", "noobs2ninjas", "brunofin", "comster404"];

var url = "https://api.twitch.tv/kraken/";
var id = "?client_id=m8df8m71995vq176lg6wxmqhu6wzgv8";
var html = "";
var status;

userArr.forEach(function(user){

	$.getJSON(url + "streams/" + user + id, function(sData){
		if (sData.stream !== null){
			status = "Online";
			// console.log(sData);
			$("#results").append("<div class='userBox onlineBox'>"
			+ "<div class='userTitle clearfix'>"
			+ "<img class='logo' id='logo' src='" 
			+ sData.stream.channel.logo + "'>"
			+ "<h4 class='online'><a id='userTitle' title='Go to this channel...' href='" + sData.stream.channel.url + "'target='_blank'>"  
			+ sData.stream.channel.display_name + "</a></h4>"
			+ "<p class='status pull-right online' id='status'>" + status + "</p>"
			+ "<p><a href='" + "#" + "id='game' title='Currently streaming...'>" + sData.stream.channel.game + "</a></p>"
			+ "</div>"
			+ "</div>");
		}


		else if(sData.stream === null){
			$.getJSON(url + "channels/" + user + id, function(cData){
			console.log(cData);
			status = "Offline";
			$("#results").append("<div class='userBox offlineBox'>"
			+ "<div class='userTitle  clearfix'>"
			+ "<img class='logo logoOffline' id='logo' src='" 
			+ cData.logo + "'>"
			+ "<h4 class='userTitleOffline'><a id='userTitle' title='Go to this channel...' href='" + cData.url + "'target='_blank'>"  
			+ cData.display_name + "</a></h4>"
			+ "<p class='status pull-right offline' id='status'>" + status + "</p>"
			+ "</div>"
			+ "</div>");
			})//end getJSON channels
		}

	})//end getJSON streams
	.fail(function(){
		console.log("fail");
		status = "No such user"
		$("#results").append("<div class='userBox noUserBox'>"
			+ "<div class='userTitle  clearfix'>"
			+ "<img class='logo logoOffline' id='logo' src='https://i1376.photobucket.com/albums/ah12/RosiePosieUK/twitchLogo_zpsgcyp4h2a.jpg'>"
			+ "<h4 class='noUserName userTitleOffline'>" + user + "</h4>"
			+ "<p class='status pull-right noUser' id='status'>" + status + "</p>"
			+ "</div>"
			+ "</div>");
	})
});//end forEach


$("#onlineBtn").on("click", function(){
	$(".onlineBox").removeClass("hide");
	$(".offlineBox").addClass("hide");
	$(".noUserBox").addClass("hide");
});

$("#offlineBtn").on("click", function(){
	$(".offlineBox").removeClass("hide");
	$(".onlineBox").addClass("hide");
	$(".noUserBox").addClass("hide");
});

$("#allBtn").on("click", function(){
	$(".offlineBox").removeClass("hide");
	$(".onlineBox").removeClass("hide");
	$(".noUserBox").removeClass("hide");
});


//twitch Client-ID: m8df8m71995vq176lg6wxmqhu6wzgv8

});
</script>

</body>
</html>

